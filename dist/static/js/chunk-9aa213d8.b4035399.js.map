{"version":3,"sources":["webpack:///./src/skip/Purchase.vue?6a72","webpack:///src/skip/Purchase.vue","webpack:///./src/skip/Purchase.vue?c200","webpack:///./src/skip/Purchase.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","_v","selectAddress","directives","name","rawName","value","expression","state","_s","site","tel","address","style","height","model","callback","$$v","showa","list","onSelect","chosenAddressId","_l","item","key","gid","count","price_min","stlie","pic_url","totalPrices","onSubmit","staticRenderFns","data","commodity","purchase","created","JSON","parse","sessionStorage","getItem","methods","$router","go","index","computed","forEach","prices","v","component"],"mappings":"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","file":"static/js/chunk-9aa213d8.b4035399.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"purchase\"},[_c('div',[_c('div',{staticClass:\"heat\"},[_c('div',{staticClass:\"purchase-tetle\"},[_c('img',{attrs:{\"src\":\"https://m.xiaomiyoupin.com/youpin/static/m/res/images/icons/icon_arrow_left_darkgray.png\",\"alt\":\"\"},on:{\"click\":_vm.goBack}}),_vm._v(\" 确认订单 \")]),_c('div',{staticClass:\"take-site\",on:{\"click\":_vm.selectAddress}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state),expression:\"state\"}],staticClass:\"select-site\"},[_vm._v(\"请选择收货地址\")]),_c('img',{attrs:{\"src\":\"https://m.xiaomiyoupin.com/youpin/static/m/res/images/icons/icon_arrow_left_darkgray.png\",\"alt\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.state),expression:\"!state\"}],staticClass:\"site-hurdle\"},[_c('span',{staticClass:\"recipients\"},[_vm._v(_vm._s(_vm.site.name))]),_c('span',{staticClass:\"call-number\"},[_vm._v(_vm._s(_vm.site.tel))]),_c('div',{staticClass:\"site-text\"},[_vm._v(_vm._s(_vm.site.address))])])]),_c('van-popup',{staticClass:\"popup\",style:({ height: '70%' }),attrs:{\"closeable\":\"\",\"close-icon\":\"close\",\"position\":\"bottom\"},model:{value:(_vm.showa),callback:function ($$v) {_vm.showa=$$v},expression:\"showa\"}},[_c('div',{staticClass:\"site-telter\"},[_vm._v(\"配送地址\")]),_c('van-address-list',{staticClass:\"sites\",attrs:{\"list\":_vm.list,\"default-tag-text\":\"默认\",\"add-button-text\":\"选择其他配送地址\"},on:{\"select\":_vm.onSelect},model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}})],1)],1),_c('div',{staticClass:\"commodity-box\"},[_c('div',{staticClass:\"commodity-hurdle\"},_vm._l((_vm.purchase),function(item){return _c('van-card',{key:item.gid,attrs:{\"num\":item.count,\"price\":item.price_min / 100 + '.00',\"desc\":item.stlie,\"title\":item.name,\"thumb\":item.pic_url}})}),1)]),_c('van-submit-bar',{attrs:{\"price\":_vm.totalPrices,\"button-text\":\"立即支付\"},on:{\"submit\":_vm.onSubmit}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"purchase\">\r\n    <div>\r\n      <!-- 选择地址 -->\r\n      <div class=\"heat\">\r\n        <div class=\"purchase-tetle\">\r\n          <img\r\n            src=\"https://m.xiaomiyoupin.com/youpin/static/m/res/images/icons/icon_arrow_left_darkgray.png\"\r\n            alt=\"\"\r\n            @click=\"goBack\"\r\n          />\r\n          确认订单\r\n        </div>\r\n        <div class=\"take-site\" @click=\"selectAddress\">\r\n          <div class=\"select-site\" v-show=\"state\">请选择收货地址</div>\r\n          <img\r\n            src=\"https://m.xiaomiyoupin.com/youpin/static/m/res/images/icons/icon_arrow_left_darkgray.png\"\r\n            alt=\"\"\r\n          />\r\n          <div class=\"site-hurdle\" v-show=\"!state\">\r\n            <span class=\"recipients\">{{ site.name }}</span>\r\n            <span class=\"call-number\">{{ site.tel }}</span>\r\n            <div class=\"site-text\">{{ site.address }}</div>\r\n          </div>\r\n        </div>\r\n        <van-popup\r\n          v-model=\"showa\"\r\n          closeable\r\n          close-icon=\"close\"\r\n          position=\"bottom\"\r\n          :style=\"{ height: '70%' }\"\r\n          class=\"popup\"\r\n        >\r\n          <div class=\"site-telter\">配送地址</div>\r\n          <van-address-list\r\n            v-model=\"chosenAddressId\"\r\n            :list=\"list\"\r\n            default-tag-text=\"默认\"\r\n            add-button-text=\"选择其他配送地址\"\r\n            class=\"sites\"\r\n            @select=\"onSelect\"\r\n          />\r\n        </van-popup>\r\n      </div>\r\n      <!-- 购买的商品 -->\r\n      <div class=\"commodity-box\">\r\n        <div class=\"commodity-hurdle\">\r\n          <van-card\r\n            v-for=\"item in purchase\"\r\n            :key=\"item.gid\"\r\n            :num=\"item.count\"\r\n            :price=\"item.price_min / 100 + '.00'\"\r\n            :desc=\"item.stlie\"\r\n            :title=\"item.name\"\r\n            :thumb=\"item.pic_url\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <van-submit-bar\r\n        :price=\"totalPrices\"\r\n        button-text=\"立即支付\"\r\n        @submit=\"onSubmit\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"../assets/sass/purchase.scss\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      site: \"\",\r\n      state: true,\r\n      commodity: \"\",\r\n      list: [],\r\n      chosenAddressId: \"1\",\r\n      showa: false,\r\n      purchase: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.list = JSON.parse(sessionStorage.getItem(\"list\"));\r\n    this.purchase = JSON.parse(sessionStorage.getItem(\"purchase\"));\r\n  },\r\n  methods: {\r\n    // 返回\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 选择地址\r\n    onSelect(item, index) {\r\n      this.state = false;\r\n      \r\n      this.chosenAddressId = index;\r\n      this.site = this.list[this.chosenAddressId];\r\n      \r\n      this.showa = !this.showa;\r\n    },\r\n    onSubmit() {\r\n        if(this.site !== ''){\r\n            this.$toast('支付成功');\r\n            this.$router.go(-1)\r\n        }else{\r\n            this.$toast('请选择地址');\r\n        }\r\n    },\r\n    selectAddress() {\r\n      this.showa = true;\r\n      if (this.list == \"\") {\r\n        this.state = false;\r\n      } else {\r\n        this.state = true;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    // 计算价格\r\n    totalPrices() {\r\n      let prices = 0;\r\n      this.purchase.forEach((v) => {\r\n        prices += v.price_min * v.count;\r\n      });\r\n      return prices;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Purchase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Purchase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Purchase.vue?vue&type=template&id=0a6979fe&\"\nimport script from \"./Purchase.vue?vue&type=script&lang=js&\"\nexport * from \"./Purchase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}