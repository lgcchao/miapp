{"version":3,"sources":["webpack:///./src/views/ShoppingTrolley.vue?50a2","webpack:///src/views/ShoppingTrolley.vue","webpack:///./src/views/ShoppingTrolley.vue?5b44","webpack:///./src/views/ShoppingTrolley.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","editProduct","back","scopedSlots","_u","shopbagData","length","key","fn","_v","_s","isEdit","proxy","_l","item","index","simpleSelect","model","value","callback","$$v","$set","expression","pic_url","name","stlie","price_min","directives","rawName","totals","commit","allSelect","allCheck","removeMoreShopbag","goMenu","staticRenderFns","data","isCheck","confirmData","total","created","findShopbag","methods","JSON","parse","sessionStorage","getItem","$router","go","push","map","i","setItem","stringify","$toast","computed","totalPrices","v","count","component","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"static/js/chunk-7231fafc.db6a94d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopbag\"},[_c('van-nav-bar',{attrs:{\"title\":\"购物车\",\"left-text\":\"返回\",\"left-arrow\":\"\",\"fixed\":true},on:{\"click-right\":_vm.editProduct,\"click-left\":_vm.back},scopedSlots:_vm._u([(_vm.shopbagData.length > 0)?{key:\"right\",fn:function(){return [_c('div',[_vm._v(_vm._s(_vm.isEdit ? \"完成\" : \"编辑\"))])]},proxy:true}:null],null,true)}),(_vm.shopbagData.length > 0)?_c('div',[_vm._l((_vm.shopbagData),function(item,index){return _c('van-swipe-cell',{key:index,attrs:{\"disabled\":!_vm.isEdit}},[_c('van-cell',{attrs:{\"border\":false}},[_c('div',{staticClass:\"clearfix cell-box\"},[_c('div',{staticClass:\"fl check\"},[_c('van-checkbox',{attrs:{\"icon-size\":\"24px\",\"checked-color\":\"#ee482b\"},on:{\"click\":_vm.simpleSelect},model:{value:(item.isCheck),callback:function ($$v) {_vm.$set(item, \"isCheck\", $$v)},expression:\"item.isCheck\"}})],1),_c('div',{staticClass:\"fl pro-img\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.pic_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"fl pro-info\"},[_c('div',{staticClass:\"text-box\"},[_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"fl text-name\"},[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"text-enname\"},[_vm._v(_vm._s(item.stlie))])]),_c('div',{staticClass:\"price-box\"},[_c('div',{staticClass:\"fl price\"},[_vm._v(\"￥\"+_vm._s(item.price_min / 100))]),_c('div',{staticClass:\"fr\"},[_c('van-stepper',{attrs:{\"theme\":\"round\",\"button-size\":\"24\",\"disable-input\":\"\"},model:{value:(item.count),callback:function ($$v) {_vm.$set(item, \"count\", $$v)},expression:\"item.count\"}})],1)])])])])],1)}),_c('div',[_c('van-submit-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],attrs:{\"price\":_vm.totals,\"button-text\":\"提交订单\",\"button-color\":\" #ee482b\"},on:{\"submit\":_vm.commit}},[_c('van-checkbox',{attrs:{\"icon-size\":\"24px\",\"checked-color\":\"#ee482b\"},on:{\"click\":_vm.allSelect},model:{value:(_vm.allCheck),callback:function ($$v) {_vm.allCheck=$$v},expression:\"allCheck\"}},[_vm._v(\"全选\")])],1),_c('van-submit-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],attrs:{\"button-text\":\"删除选择\",\"button-color\":\" #ee482b\"},on:{\"submit\":_vm.removeMoreShopbag}},[_c('van-checkbox',{attrs:{\"icon-size\":\"24px\",\"checked-color\":\"#ee482b\"},on:{\"click\":_vm.allSelect},model:{value:(_vm.allCheck),callback:function ($$v) {_vm.allCheck=$$v},expression:\"allCheck\"}},[_vm._v(\"全选\")])],1)],1)],2):_c('div',[_c('van-empty',{attrs:{\"description\":\"购物袋空空如也,去逛一逛!\"}},[_c('van-button',{staticClass:\"bottom-button\",attrs:{\"round\":\"\",\"color\":\"#ee482b\"},on:{\"click\":_vm.goMenu}},[_vm._v(\"去逛一逛\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"shopbag\">\r\n    <van-nav-bar\r\n      title=\"购物车\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      :fixed=\"true\"\r\n      @click-right=\"editProduct\"\r\n      @click-left=\"back\"\r\n    >\r\n      <template #right v-if=\"shopbagData.length > 0\">\r\n        <div>{{ isEdit ? \"完成\" : \"编辑\" }}</div>\r\n      </template>\r\n    </van-nav-bar>\r\n    <div v-if=\"shopbagData.length > 0\">\r\n      <van-swipe-cell\r\n        :disabled=\"!isEdit\"\r\n        v-for=\"(item, index) in shopbagData\"\r\n        :key=\"index\"\r\n      >\r\n        <van-cell :border=\"false\">\r\n          <div class=\"clearfix cell-box\">\r\n            <div class=\"fl check\">\r\n              <van-checkbox\r\n                v-model=\"item.isCheck\"\r\n                icon-size=\"24px\"\r\n                checked-color=\"#ee482b\"\r\n                @click=\"simpleSelect\"\r\n              ></van-checkbox>\r\n            </div>\r\n            <div class=\"fl pro-img\">\r\n              <img class=\"auto-img\" :src=\"item.pic_url\" alt=\"\" />\r\n            </div>\r\n            <div class=\"fl pro-info\">\r\n              <div class=\"text-box\">\r\n                <div class=\"clearfix\">\r\n                  <div class=\"fl text-name\">{{ item.name }}</div>\r\n                </div>\r\n                <div class=\"text-enname\">{{ item.stlie }}</div>\r\n              </div>\r\n              <div class=\"price-box\">\r\n                <div class=\"fl price\">￥{{ item.price_min / 100 }}</div>\r\n                <div class=\"fr\">\r\n                  <van-stepper\r\n                    v-model=\"item.count\"\r\n                    theme=\"round\"\r\n                    button-size=\"24\"\r\n                    disable-input\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </van-cell>\r\n      </van-swipe-cell>\r\n      <div>\r\n        <van-submit-bar\r\n          v-show=\"!isEdit\"\r\n          :price=\"totals\"\r\n          button-text=\"提交订单\"\r\n          button-color=\" #ee482b\"\r\n          @submit=\"commit\"\r\n        >\r\n          <van-checkbox\r\n            @click=\"allSelect\"\r\n            v-model=\"allCheck\"\r\n            icon-size=\"24px\"\r\n            checked-color=\"#ee482b\"\r\n            >全选</van-checkbox\r\n          >\r\n        </van-submit-bar>\r\n\r\n        <van-submit-bar\r\n          v-show=\"isEdit\"\r\n          button-text=\"删除选择\"\r\n          button-color=\" #ee482b\"\r\n          @submit=\"removeMoreShopbag\"\r\n        >\r\n          <van-checkbox\r\n            @click=\"allSelect\"\r\n            v-model=\"allCheck\"\r\n            icon-size=\"24px\"\r\n            checked-color=\"#ee482b\"\r\n            >全选</van-checkbox\r\n          >\r\n        </van-submit-bar>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <van-empty description=\"购物袋空空如也,去逛一逛!\">\r\n        <van-button round color=\"#ee482b\" class=\"bottom-button\" @click=\"goMenu\"\r\n          >去逛一逛</van-button\r\n        >\r\n      </van-empty>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../assets/sass/shopping.scss\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isEdit: false,\r\n      allCheck: false,\r\n      isCheck: false,\r\n      shopbagData: [],\r\n      confirmData: [],\r\n      total: 0,\r\n      value: 1,\r\n    };\r\n  },\r\n  created() {\r\n    //查询购物袋数据\r\n    this.findShopbag();\r\n  },\r\n  methods: {\r\n    findShopbag() {\r\n      this.shopbagData = JSON.parse(sessionStorage.getItem(\"shopping\"));\r\n    },\r\n    // 管理/完成\r\n    editProduct() {\r\n      this.isEdit = !this.isEdit;\r\n    },\r\n    // 返回\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 去首页\r\n    goMenu() {\r\n      this.$router.push({ path: \"/\" });\r\n    },\r\n    // 单选\r\n    simpleSelect() {\r\n        this.confirmData = [];\r\n        this.shopbagData.map((v) => {\r\n          if(v.isCheck){\r\n            this.confirmData.push(v);\r\n          }\r\n        });\r\n      \r\n      if (this.confirmData.length === this.shopbagData.length) {\r\n        this.allCheck = true;\r\n      } else {\r\n        this.allCheck = false;\r\n      }\r\n    },\r\n    // 全选\r\n    allSelect() {\r\n      if (this.allCheck) {\r\n        this.confirmData = [];\r\n        this.shopbagData.map((v) => {\r\n          this.$set(v, \"isCheck\", true);\r\n          this.confirmData.push(v);\r\n        });\r\n      } else {\r\n        this.shopbagData.map((v) => {\r\n          this.$set(v, \"isCheck\", false);\r\n        });\r\n        this.confirmData = [];\r\n      }\r\n    },\r\n    // 删除选择\r\n    removeMoreShopbag() {\r\n      let data = [];\r\n      for (let i = 0; i < this.shopbagData.length; i++) {\r\n        if (!this.shopbagData[i].isCheck) {\r\n          data.push(this.shopbagData[i])\r\n        }\r\n      }\r\n\r\n      this.isEdit = !this.isEdit;\r\n      this.shopbagData = data;\r\n      this.confirmData = [];\r\n      sessionStorage.setItem(\"shopping\", JSON.stringify(data));\r\n    },\r\n    // 提交订单\r\n    commit() {\r\n      if(this.confirmData.length){\r\n        sessionStorage.setItem('purchase',JSON.stringify(this.confirmData));\r\n        this.$router.push({path:'/purchase'})\r\n        \r\n      }else{\r\n        this.$toast('请选择商品');\r\n        \r\n      }\r\n    },\r\n  },\r\n  computed:{\r\n    // 计算价格\r\n    totals(){\r\n      if(this.confirmData.length){\r\n        let totalPrices = 0;\r\n        this.confirmData.map((v) => {\r\n          totalPrices = totalPrices + v.price_min * v.count;\r\n        });\r\n        return totalPrices;\r\n      }else{\r\n        return 0;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingTrolley.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingTrolley.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShoppingTrolley.vue?vue&type=template&id=1df1e489&\"\nimport script from \"./ShoppingTrolley.vue?vue&type=script&lang=js&\"\nexport * from \"./ShoppingTrolley.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}